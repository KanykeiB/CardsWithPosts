{"ast":null,"code":"import _regeneratorRuntime from\"/Users/esensuyorkulov/Desktop/react/lesson8/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/esensuyorkulov/Desktop/react/lesson8/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/esensuyorkulov/Desktop/react/lesson8/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import Card from'@mui/material/Card';import CardContent from'@mui/material/CardContent';import Typography from'@mui/material/Typography';import{useParams}from\"react-router-dom\";import CircularProgress from'@mui/material/CircularProgress';import Box from'@mui/material/Box';import styles from'./index.module.css';import{Link}from\"react-router-dom\";import HomeIcon from'@mui/icons-material/Home';import Button from'@mui/material/Button';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PostCard=function PostCard(){var _useParams=useParams(),id=_useParams.id;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),post=_useState2[0],setPost=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;setIsLoading(true);_context.next=4;return getData();case 4:data=_context.sent;setPost(data[id-1]);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:_context.prev=11;setIsLoading(false);return _context.finish(11);case 14:case\"end\":return _context.stop();}},_callee,null,[[0,8,11,14]]);}))();},[]);var getData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var res,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"https://jsonplaceholder.typicode.com/posts\");case 2:res=_context2.sent;_context2.next=5;return res.json();case 5:data=_context2.sent;return _context2.abrupt(\"return\",data);case 7:case\"end\":return _context2.stop();}},_callee2);}));return function getData(){return _ref2.apply(this,arguments);};}();if(isLoading){return/*#__PURE__*/_jsx(Box,{className:styles.loader,children:/*#__PURE__*/_jsx(CircularProgress,{})});}if(!post){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(Button,{variant:\"outlined\",endIcon:/*#__PURE__*/_jsx(HomeIcon,{}),children:\"Home\"})}),/*#__PURE__*/_jsx(Card,{className:styles.cardWrap,children:/*#__PURE__*/_jsx(CardContent,{className:styles.failedFetch,children:/*#__PURE__*/_jsx(Typography,{children:\"Oops! Something went wrong!\"})})})]});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(Button,{variant:\"outlined\",endIcon:/*#__PURE__*/_jsx(HomeIcon,{}),children:\"Home\"})}),/*#__PURE__*/_jsx(Card,{className:styles.cardWrap,children:/*#__PURE__*/_jsxs(CardContent,{className:styles.cardWrapItem,children:[/*#__PURE__*/_jsx(Typography,{children:\"Card: \".concat(id)}),/*#__PURE__*/_jsx(Typography,{sx:{fontSize:22},children:\"\".concat(post.title)}),/*#__PURE__*/_jsx(Typography,{children:\"\".concat(post.body)})]})})]});};export default PostCard;","map":{"version":3,"names":["React","useEffect","useState","Card","CardContent","Typography","useParams","CircularProgress","Box","styles","Link","HomeIcon","Button","PostCard","id","post","setPost","isLoading","setIsLoading","getData","data","console","log","fetch","res","json","loader","cardWrap","failedFetch","cardWrapItem","fontSize","title","body"],"sources":["/Users/esensuyorkulov/Desktop/react/lesson8/src/component/cards/index.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Card from '@mui/material/Card';\nimport CardContent from '@mui/material/CardContent';\nimport Typography from '@mui/material/Typography';\nimport {useParams} from \"react-router-dom\";\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Box from '@mui/material/Box';\nimport styles from './index.module.css'\nimport {Link} from \"react-router-dom\";\nimport HomeIcon from '@mui/icons-material/Home';\nimport Button from '@mui/material/Button';\n\n\nconst PostCard= () => {\n    const {id} = useParams()\n    const [post, setPost] = useState(null)\n    const [isLoading, setIsLoading]= useState(false)\n    useEffect(()=>{\n      (async()=>{\n        try{\n            setIsLoading(true)\n            const data = await getData()\n            setPost(data[(id-1)])\n        } catch(e){\n            console.log(e)\n        } finally {\n            setIsLoading(false)\n        }\n      })()\n    }, [])\n    const getData = async ()=> {\n        const res = await fetch(\"https://jsonplaceholder.typicode.com/posts\")\n        const data = await res.json()\n        return data\n      }\n    if (isLoading){\n        return(\n            <Box className={styles.loader}>\n                <CircularProgress />\n            </Box>\n        )\n    }\n    if(!post){\n        return (\n        <div>\n            <Link to={`/`}>\n                <Button variant=\"outlined\" endIcon={<HomeIcon />}>\n                    Home\n                </Button>\n            </Link>\n            <Card className={styles.cardWrap} >\n                <CardContent className={styles.failedFetch}>\n                    <Typography>\n                        Oops! Something went wrong!\n                    </Typography>     \n                </CardContent> \n            </Card>\n        </div>\n        )\n             }\n    return (\n        <div>\n        <Link to={`/`}>\n            <Button variant=\"outlined\" endIcon={<HomeIcon />}>\n                Home \n            </Button>\n        </Link>\n        <Card className={styles.cardWrap} >\n            <CardContent className={styles.cardWrapItem} >\n                <Typography>\n                    {`Card: ${id}`} \n                </Typography>  \n                <Typography sx={{ fontSize: 22 }}>\n                    {`${post.title}`}\n                </Typography>  \n                <Typography>\n                    {`${post.body}`}\n                </Typography>     \n            </CardContent>\n        </Card>\n        </div>\n    )\n  }\n\nexport default PostCard;"],"mappings":"mZAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAOC,KAAI,KAAM,oBAAoB,CACrC,MAAOC,YAAW,KAAM,2BAA2B,CACnD,MAAOC,WAAU,KAAM,0BAA0B,CACjD,OAAQC,SAAS,KAAO,kBAAkB,CAC1C,MAAOC,iBAAgB,KAAM,gCAAgC,CAC7D,MAAOC,IAAG,KAAM,mBAAmB,CACnC,MAAOC,OAAM,KAAM,oBAAoB,CACvC,OAAQC,IAAI,KAAO,kBAAkB,CACrC,MAAOC,SAAQ,KAAM,0BAA0B,CAC/C,MAAOC,OAAM,KAAM,sBAAsB,CAAC,wFAG1C,GAAMC,SAAQ,CAAE,QAAVA,SAAQ,EAAQ,CAClB,eAAaP,SAAS,EAAE,CAAjBQ,EAAE,YAAFA,EAAE,CACT,cAAwBZ,QAAQ,CAAC,IAAI,CAAC,wCAA/Ba,IAAI,eAAEC,OAAO,eACpB,eAAiCd,QAAQ,CAAC,KAAK,CAAC,yCAAzCe,SAAS,eAAEC,YAAY,eAC9BjB,SAAS,CAAC,UAAI,CACZ,0DAAC,6JAEKiB,YAAY,CAAC,IAAI,CAAC,uBACCC,QAAO,EAAE,QAAtBC,IAAI,eACVJ,OAAO,CAACI,IAAI,CAAEN,EAAE,CAAC,CAAC,CAAE,CAAC,gFAErBO,OAAO,CAACC,GAAG,aAAG,0BAEdJ,YAAY,CAAC,KAAK,CAAC,qGAExB,IAAG,CACN,CAAC,CAAE,EAAE,CAAC,CACN,GAAMC,QAAO,6FAAG,6KACMI,MAAK,CAAC,4CAA4C,CAAC,QAA/DC,GAAG,uCACUA,IAAG,CAACC,IAAI,EAAE,QAAvBL,IAAI,iDACHA,IAAI,yDACZ,kBAJGD,QAAO,2CAIV,CACH,GAAIF,SAAS,CAAC,CACV,mBACI,KAAC,GAAG,EAAC,SAAS,CAAER,MAAM,CAACiB,MAAO,uBAC1B,KAAC,gBAAgB,IAAG,EAClB,CAEd,CACA,GAAG,CAACX,IAAI,CAAC,CACL,mBACA,oCACI,KAAC,IAAI,EAAC,EAAE,IAAM,uBACV,KAAC,MAAM,EAAC,OAAO,CAAC,UAAU,CAAC,OAAO,cAAE,KAAC,QAAQ,IAAI,UAAC,MAElD,EAAS,EACN,cACP,KAAC,IAAI,EAAC,SAAS,CAAEN,MAAM,CAACkB,QAAS,uBAC7B,KAAC,WAAW,EAAC,SAAS,CAAElB,MAAM,CAACmB,WAAY,uBACvC,KAAC,UAAU,WAAC,6BAEZ,EAAa,EACH,EACX,GACL,CAED,CACT,mBACI,oCACA,KAAC,IAAI,EAAC,EAAE,IAAM,uBACV,KAAC,MAAM,EAAC,OAAO,CAAC,UAAU,CAAC,OAAO,cAAE,KAAC,QAAQ,IAAI,UAAC,MAElD,EAAS,EACN,cACP,KAAC,IAAI,EAAC,SAAS,CAAEnB,MAAM,CAACkB,QAAS,uBAC7B,MAAC,WAAW,EAAC,SAAS,CAAElB,MAAM,CAACoB,YAAa,wBACxC,KAAC,UAAU,2BACGf,EAAE,GACH,cACb,KAAC,UAAU,EAAC,EAAE,CAAE,CAAEgB,QAAQ,CAAE,EAAG,CAAE,oBACzBf,IAAI,CAACgB,KAAK,GACL,cACb,KAAC,UAAU,qBACHhB,IAAI,CAACiB,IAAI,GACJ,GACH,EACX,GACD,CAEZ,CAAC,CAEH,cAAenB,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}